
<!--
 * @Descripttion: 
 * @Author: voanit
 * @Date: 2024-09-01 11:07:27
 * @LastEditors: voanit
 * @LastEditTime: 2024-09-01 14:44:08
-->
# canvas

::: tip
    `canvas` :可以用来通过javascript来绘制图像以及图形动画，也就是说`<canvas>`
    标签只是一个空白画布
`canvas api`:主要聚焦于2d绘图,而webGL api则用于绘制硬件加速的2D和3d图形
:::

```html
<canvas id="canvas" width="500" height="500"></canvas>

```

`<canvas>`标签只有两个属性：width和height，当没有设置这两个属性时，canvas的宽是300像素高为像素.

> 需要注意的是，通过css 也可以定义canvas的尺寸。但是元素尺寸并非画布尺寸，在绘制图像时会伸缩以适应他的尺寸；如果元素尺寸和画布尺寸不一致绘制出来的图像会失真。


## getContext()

::: tip
`getContext()`:用来获取渲染上下文和他的回话功能
:::

```
let canvas = document.getElementById('canvas');
const ctx = canvas.getContext(contextType,contextAttributes);
```
1. contextType:指定渲染上下文的类型
- 2d:创建二维绘图上下文
- webgl:创建一个三维渲染上下文
- webgl2:创建一个三维渲染上下文
- bitmaprenderer:创建一个只提供canvas 内容替换指定imageBitmap 功能的imageBitmapRenderingContext.(safari不支持)
2. contextAttributes:用来指定渲染上下文特性，比如抗锯齿、颜色空间、图像质量等。
- 2d 
  - alpha:布尔值，表明`canvas`包含一个`alpha` 通道。如果设置为false,浏览器将认为canvas背景总是不透明的，这样可以加速绘制透明的内容和图片
- webgl
  - alpha:布尔值，表明`canvas`包含一个`alpha` 通道。
  - antialias:布尔值，表明是否开启抗锯齿。
  - depth:布尔值，表明是否开启深度缓冲区。深度至少为16位
  - failIfMajorPerformanceCaveat:布尔值，表明是否在性能低于预期时拒绝创建上下文。
  - premultipliedAlpha:指示浏览器在运行webgl上下文时使用响应的GPU 电源配置
    - default:浏览器使用GPU的默认配置
    - high-performance:浏览器使用高配置
    - low-power:节能模式
  - premultiplyAlpha:布尔值，表明排版引擎将假设绘制缓存区包含预混合alpha 通道
  - preserveDrawingBuffer:布尔值，是否保存缓冲区，直到被清除或被使用者覆盖
  - stencil:布尔值，表明是否开启模板缓冲区


