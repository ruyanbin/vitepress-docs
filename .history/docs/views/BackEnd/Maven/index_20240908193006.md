# Maven

::: tip
`Maven`: 是Apache组织提供的一个项目构建工具,专门为Java项目提供构建和依赖管理支持的工具
:::

## 依赖
`Manven`中最关键的部分，我们使用Maven来管理依赖管理功能。当Ajar 包用到Bjar包时，Bjar包必须先被下载到本地，再被Ajar引用。

# Maven 开发环境配置

1. 下载[Maven](https://maven.apache.org/download.cgi)
2. 解压到本地
    例如`D:\app\tools\apache-maven-3.9.9`
3. 配置环境变量
   3.1 添加环境变量`MAVEN_HOME`
   3.2 配置环境变量`PATH`，添加`%MAVEN_HOME%\bin`
   3.3 配置环境变量`CLASSPATH`，添加`%MAVEN_HOME%\lib\*`
   
4. 配置Maven仓库
 指定本地仓库位置，默认为`%USERPROFILE%\.m2\repository`
 在`%MAVEN_HOME%\conf\settings.xml`中配置

 ``` 
 <localRepository>D:\app\tools\apache-maven-3.9.9\mvn_resp</localRepository>
 ```

 > 注意：Maven仓库目录必须存在，否则会报错
 >配置Maven仓库目录，例如`D:\app\tools\apache-maven-3.9.9\mvn_resp`
 > ：一定要把 localRepository 标签从注释中拿出来
 > 注意：本地仓库本身也需要使用一个非中文、没有空格的目录。
5. 配置Maven代理
    `Maven`下载jar包时,默认访问境外的中央仓库，而国外速度very很慢，我们可以配置代理，使用国内镜像。
    1. 将原有的配置文件`%MAVEN_HOME%\conf\settings.xml`中的 `<mirror>` 配置注释掉
    
    2. 在`%MAVEN_HOME%\conf\settings.xml`中添加如下配置
     ``` http://maven.aliyun.com/nexus/content/groups/public ```
   
6. 配置JDK 版本

如果按照默认配置运行，Java 工程使用的默认 JDK 版本是 1.5，而我们熟悉和常用的是 JDK 1.8 版本。修改配置的方式是：将 profile 标签整个复制到 settings.xml 文件的 profiles 标签内

```
  <profile>
    <id>jdk-1.8</id>
    <activation>
        <activeByDefault>true</activeByDefault>
        <jdk>1.8</jdk>
    </activation>
    <properties>
        <maven.compiler.source>1.8</maven.compiler.source>
        <maven.compiler.target>1.8</maven.compiler.target>
       <maven.compiler.compilerVersion>1.8</maven.compiler.compilerVersion>
    </properties>
</profile>
```

6.1  配置JDK版本
Maven 是一个用 Java 语言开发的程序，它必须基于 JDK 来运行，需要通过 JAVA_HOME 来找到 JDK 的安装位置
1. 配置JDK环境变量
::: tip
配置环境变量的规律：
XXX_HOME 通常指向的是 bin 目录的上一级
PATH 指向的是 bin 目录
:::

7. 通过 `mvn -v ` 验证配置是否成功
  

## `Maven`  使用

`Maven` 坐标是 `Maven` 项目的唯一标识符，它由 `groupId`、`artifactId`、`version` 组成。
`maven`使用三个向量在Maven仓库中定位到一个`jar`包

- `groupId`:公司或组织的ID 及公司或组织域名的倒序，通常也会加上项目名称
  例如``` groupId=com.example.project```
- `artifactId`:一个项目或者项目中的的一个模块id, 即模块名称，将
   ```
   artifactId=my-module
   ```
- `version`:版本号

```
<groupId>javax.servlet</groupId>
<artifactId>servlet-api</artifactId>
<version>2.5</version>

```

## pom.xml

```
<!-- 当前Maven工程的坐标 -->
<groupId>com.example</groupId>
<artifactId>demo</artifactId>
<version>0.0.1-SNAPSHOT</version>
<name>demo</name>
<description>Demo project for Spring Boot</description>
<!-- 当前Maven工程的打包方式，可选值有下面三种： -->
<!-- jar：表示这个工程是一个Java工程  -->
<!-- war：表示这个工程是一个Web工程 -->
<!-- pom：表示这个工程是“管理其他工程”的工程 -->
<packaging>jar</packaging>
<properties>
    <!-- 工程构建过程中读取源码时使用的字符集 -->
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
</properties>
<!-- 当前工程所依赖的jar包 -->
<dependencies>
    <!-- 使用dependency配置一个具体的依赖 -->
    <dependency>
        <!-- 在dependency标签内使用具体的坐标依赖我们需要的一个jar包 -->
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>4.12</version>
        <!-- scope标签配置依赖的范围 -->
        <scope>test</scope>
    </dependency>
</dependencies>

```